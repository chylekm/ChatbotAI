<div class="chat-container">
  <div class="messages">
    <div *ngFor="let message of messages()" [class.user]="message.role === messageRole.User" [class.ai]="message.role === messageRole.AI">
      {{ message.text }}
      <span *ngIf="message.role === messageRole.AI">
        <button (click)="rate(message, 1)">👍</button>
        <button (click)="rate(message, -1)">👎</button>
      </span>
    </div>
  </div>
</div>

<form [formGroup]="form" (ngSubmit)="sendMessage()" class="input-bar">
  <input matInput placeholder="Type a message..." formControlName="message" />
  <button matButton="filled" color="primary" type="submit" [disabled]="loading() || form.invalid">
    Send
  </button>
  <button mat-button color="warn" (click)="cancelGeneration()" *ngIf="loading()">Cancel</button>
</form> 